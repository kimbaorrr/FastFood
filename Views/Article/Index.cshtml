
@{
    var articles = ViewBag.Articles as IPagedList<Article>;
    var currentPage = ViewBag.CurrentPage as int?;
    var totalPages = ViewBag.TotalPages as int?;

}

<!--====== Start Page Section ======-->
<section class="page-banner">
    <div class="page-bg-wrapper p-r z-1 bg_cover pt-100 pb-110" style="background-image: url(/public_page/assets/images/bg/page-bg.jpg);">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <!--=== Page Banner Content ===-->
                    <div class="page-banner-content text-center">
                        <h1 class="page-title">@ViewBag.Title</h1>
                        <ul class="breadcrumb-link">
                            <li><a href="index.html">Trang chủ</a></li>
                            <li class="active">@ViewBag.Title</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section><!--====== End Page Section ======-->
<!--====== Start Blogs Page ======-->
<section class="blogs-grid-section pt-130 pb-130">
    <div class="container">
        <div class="row">
            @foreach (var article in articles!)
            {
                <div class="col-lg-4 col-md-6 col-sm-12">
                    <!--=== Blog Post Item ===-->
                    <div class="blog-post-item style-two mb-30 wow fadeInUp">
                        <div class="post-thumbnail">
                            <div class="d-flex justify-content-center align-items-center overflow-hidden" style="width: 410px;height: 280px;">
                                <img src="@article.CoverImage" alt="@article.Title" width="100%" height="100%" class="object-fit-fill">
                            </div>

                        </div>
                        <div class="post-content">
                            <div class="post-meta">
                                <span><a href="#">@(article.Author.LastName + " " + article.Author.FirstName)</a></span>
                                <span><a href="#">@article.CreatedAt.ToString("dd MMM, yyyy")</a></span>
                            </div>
                            <h4 class="post-title"><a href="@Url.Action("Detail", "Article", new {articleId = article.ArticleId})">@article.Title</a></h4>
                            <p>@article.Summary</p>
                            <a href="@Url.Action("Detail", "Article", new {articleId = article.ArticleId})" class="read-more" style="text-transform: none;">Xem thêm<i class="fas fa-arrow-right"></i></a>
                        </div>
                    </div>
                </div>
            }

        </div>
        <div class="row">
            <div class="col-lg-12">
                <!--=== Foodix Pagination ===-->
                <ul class="foodix-pagination d-flex justify-content-center wow fadeInDown mt-20">
                    <!-- Page Numbers -->
                    @for (int i = 1; i <= totalPages; i++)
                    {
                        if (i == currentPage)
                        {
                            <li>
                                <a href="#">@i</a>
                            </li>
                        }
                        else
                        {
                            <li>
                                <a href="@Url.Action("Index", "Article", new { page = i })">@i</a>
                            </li>
                        }
                    }
                </ul>

            </div>
        </div>
    </div>
</section><!--====== End Blogs Page ======-->